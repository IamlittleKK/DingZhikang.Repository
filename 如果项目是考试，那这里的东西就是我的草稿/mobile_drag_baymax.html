<!doctype html>

<html>

<head>

<meta charset="utf-8">

<title>Baymax</title>

<link rel=stylesheet href="demo2.css"/>

</head>

<style>

 body{

background: #595959;
overflow:hidden;

}
.img
{
	 margin:0 auto;
                position:absolute;
	            width:99%;
	            height:98%;
	            border-radius:20px;
	z-index:-2;
}
#baymax{
opacity:0.7;
/*设置为 居中*/
position:relative;
top:100px;
left:37%;
height: 480px;
/*隐藏溢出*/
overflow: hidden;
background-color:;
width:350px;

}
#head{

height: 64px;

width: 100px;

/*以百分比定义圆角的形状*/

border-radius: 50%;

/*背景*/

background: #fff;

margin: 0 auto;

margin-bottom: -20px;

/*设置下边框的样式*/

border-bottom: 5px solid #e0e0e0;

/*属性设置元素的堆叠顺序； 拥有更高堆叠顺序的元素总是会处于堆叠顺序较低的元素的前面*/

z-index: 100;

/*生成相对定位的元素*/

position: relative;

}

#eye,
#eye2{

width: 11px;

height: 13px;

background: #282828;

border-radius:50% ;

position: relative;

top: 30px;

left: 25px;

/*旋转该元素*/

transform: rotate(8deg);

}
#eye2{

/*使其旋转对称*/

transform: rotate(-8deg);

left:69px; 

top:17px;

}
#mouth{

width: 38px;

height: 1.5px;

background: #282828;

position: relative;

left: 34px;

top: 10px;

}

/*躯干和腹部*/

#torso,

#belly{

margin: 0 auto;

height: 200px;

width: 180px;

background: #fff;

border-radius: 47%;

/*设置边框*/

border: 5px solid #e0e0e0;

border-top: none;

z-index: 1;

}
#belly{

height: 300px;

width: 245px;

margin-top: -147px;

z-index: 5;

}
#cover{

width: 190px;

background: #fff;

height: 150px;

margin: 0 auto;

position: relative;

top: -20px;

border-radius: 50%;


}

/*心脏*/

#heart{

width:25px;

height:25px;

border-radius:50%;

position:relative;

/*向边框四周添加阴影效果*/

box-shadow:2px 5px 2px #ccc inset;

right:-115px;

top:40px;

z-index:111;

border:1px solid #ccc;

}

/*手臂*/

#left-arm,

#right-arm{

height: 270px;

width: 120px;

border-radius: 50%;

background: #fff;

margin: 0 auto;

position: relative;

top: -350px;

left: -100px;

transform: rotate(20deg);

z-index: -1;

}

#right-arm{

transform: rotate(-20deg);

left: 100px;

top: -620px;

}

/*手指头*/

#l-bigfinger,

#r-bigfinger{

height: 50px;

width: 20px;

border-radius: 50%;

background: #fff;

position: relative;

top: 250px;

left: 50px;

transform: rotate(-50deg);

}
#r-bigfinger{

transform: rotate(50deg);

}

#l-smallfinger,

#r-smallfinger{

height: 35px;

width: 15px;

border-radius: 50%;

background: #fff;

position: relative;

top: 195px;

left: 66px;

transform: rotate(-40deg);

}

#r-smallfinger{

background: #fff;

transform: rotate(40deg);

top: 195px;

left: 38px;

}

/*大腿*/

#left-leg,
#right-leg{

height: 170px;

width: 90px;

border-radius: 40% 30% 10px 45%;

background: #fff;

position: relative;

top: -640px;

left: -45px;

transform: rotate(-1deg);

z-index: -1;

margin: 0 auto;


}
#right-leg{

background: #fff;

border-radius:30% 40% 45% 10px;

margin: 0 auto;

top: -810px;

left: 50px;

transform: rotate(1deg);


}
</style>
<body>
<img src="./img1.jpg"/ class="img">
<div id="baymax" onmousedown="Milan_StartMove(event)" onmouseup="Milan_StopMove(event)">

     <!-- 定义头部，包括两个眼睛、嘴 -->

     <div id="head">

        <div id="eye"></div>

        <div id="eye2"></div>

        <div id="mouth"></div>

     </div>

     <!-- 定义躯干，包括心脏 -->

     <div id="torso">

         <div id="heart"></div>

     </div>

     <!-- 定义肚子腹部，包括 cover（和躯干的连接处） -->

     <div id="belly">

         <div id="cover"></div>

     </div>

     <!-- 定义左臂，包括一大一小两个手指 -->

     <div id="left-arm">

         <div id="l-bigfinger"></div>

         <div id="l-smallfinger"></div>

     </div>

     <!-- 定义右臂，同样包括一大一小两个手指 -->

     <div id="right-arm">

         <div id="r-bigfinger"></div>

         <div id="r-smallfinger"></div>

     </div>

     <!-- 定义左腿 -->

     <div id="left-leg"></div>

     <!-- 定义右腿 -->

     <div id="right-leg"></div>

</div>

<script>
var offset_x;
var offset_y;
        function Milan_StartMove(oEvent)
        {
            var whichButton;
            if(document.all&&oEvent.button==1) whichButton=true;
            else { if(oEvent.button==0)whichButton=true;}
            if(whichButton)
            {
                var baymax=document.getElementById("baymax");
                offset_x=parseInt(oEvent.clientX-baymax.offsetLeft);
                offset_y=parseInt(oEvent.clientY-baymax.offsetTop);
                document.documentElement.onmousemove=function(mEvent)
                {   
                    var eEvent;
                    if(document.all) eEvent=event;
                    else{eEvent=mEvent;}
                    var baymax=document.getElementById("baymax");
                    var x=eEvent.clientX-offset_x;
                    var y=eEvent.clientY-offset_y;
                    baymax.style.left=(x)+"px";
                    baymax.style.top=(y)+"px";
                }
            }
        }
        function Milan_StopMove(oEvent)
		{
			document.documentElement.onmousemove=null; 
		}
		
  // 获取节点
  var baymax = document.getElementById("baymax");
  var oW,oH;
  // 绑定touchstart事件
  baymax.addEventListener("touchstart", function(e) {
   console.log(e);
   var touches = e.touches[0];
   oW = touches.clientX - baymax.offsetLeft;
   oH = touches.clientY - baymax.offsetTop;
   //阻止页面的滑动默认事件
   document.addEventListener("touchmove",defaultEvent,false);
  },false)
 
  baymax.addEventListener("touchmove", function(e) {
   var touches = e.touches[0];
   var oLeft = touches.clientX - oW;
   var oTop = touches.clientY - oH;
   if(oLeft < 0) {
    oLeft = 0;
   }else if(oLeft > document.documentElement.clientWidth - baymax.offsetWidth) {
    oLeft = (document.documentElement.clientWidth - baymax.offsetWidth);
   }
   baymax.style.left = oLeft + "px";
   baymax.style.top = oTop + "px";
  },false);
   
  baymax.addEventListener("touchend",function() {
   document.removeEventListener("touchmove",defaultEvent,false);
  },false);
  function defaultEvent(e) {
   e.preventDefault();
  }
</script>
</body>
<html>